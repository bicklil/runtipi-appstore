{
    "schemaVersion": 2,
    "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json",
    "services": [
        {
            "name": "backend",
            "image": "localhost:42420/planning-backend:latest",
            "addPorts": [
                {
                    "containerPort": 5000,
                    "hostPort": 9999
                }
            ],
            "volumes": [
                {
                    "hostPath": "./data",
                    "containerPath": "/data"
                }
            ],
            "environment": [
                {
                    "key": "FLASK_ENV",
                    "value": "development"
                },
                {
                    "key": "DATABASE_URL",
                    "value": "sqlite:////data/planning.db"
                }
            ],
            "addToMainNetwork": true
        },
        {
            "name": "frontend",
            "image": "localhost:42420/planning-frontend:latest",
            "internalPort": 80,
            "dependsOn": [
                "backend"
            ],
            "addToMainNetwork": true
        }
    ]
}